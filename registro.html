<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>La Canasta</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" media='screen' href='css/style.css'>    
        <link rel="icon" href="img/Canasta.ico">

    </head>

<body> 
    <div style="text-align: center;">

        <header>
            <nav class="navbar navbar-expand-lg navbar-light">
                <div class="container-fluid">
                    <img id="logo" src="img/Canasta.png"alt="logo" class="logo">
                    <a class="navbar-brand" href="index.html">Inicio</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link active" href="reparto.html">Días de reparto por Comuna</a>
                            </li>
                            <li class="nav-item nosotros">
                                <a class="nav-link" href="nosotros.html">Sobre Nosotros</a>
                            </li>
                            <li class="nav-item Sesión">
                                <a class="nav-link" href="login.html">Inicio Sesión</a>
                            </li>
                            <li class="nav-item Lista">
                                <a class="nav-link" href="lista.html">Tu Lista</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
    </div>

    <div class="container-fluid">

        <div class="banner"> 
            <figure>
                <img  src="img/Verduleria.jpeg" alt=" ">           
                    <div class="capa">                       
                        <h1>Verdulería La Canasta</h1>
                        <h2>Solo Delivery</h2>            
                        <h2>+569-88798767</h2>
                    </div>
            </figure>
        </div>

    </div>
        <div class="text-center" id="registro">
            <h1>Nuevos Clientes</h1>
            <h1>Formulario de Registro</h1>
        </div>
        <div class="container contacto">
        <form id="formulario">
            <div class="mb-3">
                <label for="txtNombre" class="form-label">Nombre</label>
                <input type="text" class="form-control form-control-success" id="txtNombre" aria-describedby="nombreHelp" maxlength="15" required>
                <div id="comentarioHelp" class="form-text">Ingrese su Nombre.</div>
            </div>
            <div class="alert alert-danger" role="alert" id="msgErrorNombre">
            <label class="form-label" id="textoErrorNombre"></label>
            </div>

            <div class="mb-3">
                <label for="txtApellido" class="form-label">Apellido</label>
                <input type="text" class="form-control" id="txtApellido" aria-describedby="apellidosHelp" maxlength="25" required>
                <div id="comentarioHelp" class="form-text">Ingrese sus Apellido</div>
            </div>
            <div class="alert alert-danger" role="alert" id="msgErrorApellido">
                <label class="form-label" id="textoErrorApellido"></label>
            </div>

            <div class="mb-3">
                <label for="txtDireccion" class="form-label">Direccion</label>
                <input type="text" class="form-control" id="txtDireccion" aria-describedby="direccionHelp">
                <div id="comentarioHelp" class="form-text">Ingrese su Dirección</div>
            </div>
            <div class="alert alert-danger" role="alert" id="msgErrorDireccion">
            <label class="form-label" id="textoErrorDireccion"></label>
            </div>

            <div class="mb-3">
                <label for="txtCorreo" class="form-label">Correo</label>
                <input type="email" class="form-control" id="txtCorreo" aria-describedby="correoHelp">
                <div id="comentarioHelp" class="form-text">Ingrese su Correo</div>
            </div>
            <div class="alert alert-danger" role="alert" id="msgErrorCorreo">
                <label class="form-label" id="textoErrorCorreo"></label>
            </div>

            <div class="mb-3">
                <select class="form-select" aria-label="Comuna" id="Comuna">
                <option selected>Seleccione su comuna</option>
                <option value="1">Huechuraba</option>
                <option value="2">Las Condes</option>
                <option value="3">Lobarnechea</option>
              </select>
            </div>

            <div class="alert alert-danger" role="alert" id="msgErrorComuna">
                <label class="form-label" id="textoErrorComuna"></label>
            </div>
            
            <div class="mb-3">
                <label for="txtEdad" class="form-label">Edad</label>
                <input type="number" class="form-control" id="txtEdad" aria-describedby="edadHelp">
                <div id="comentarioHelp" class="form-text">Edad del usuario</div>
            </div>

            <div class="alert alert-danger" role="alert" id="msgErrorEdad">
                <label class="form-label" id="textoErrorEdad"></label>
            </div>

            <div class="mb-3">
                <label for="txtComentario" class="form-label">Comentario</label>
                <textarea class="form-control" id="txtComentario" aria-describedby="comentarioHelp" rows="5"> </textarea>
                <div id="comentarioHelp" class="form-text">Ingrese su comentario o solicitud</div>
            </div>
            <div class="alert alert-danger" role="alert" id="msgErrorComentario">
                <label class="form-label" id="textoErrorComentario"></label>
            </div>

            <div class="mb-3" style="padding-bottom: 10px;">
                <button type="submit" class="btn btn-primary" id="btnEnviar">Registrar</button>
            </div>

        </form>

    </div>
        <div class="row footer">
            <footer class="row">
                <h5 class="text-uppercase">este es nuestro contenido del footer</h5>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla at ipsam dolorem blanditiis ut vel, itaque eaque quo voluptatem vitae dolorum provident numquam sequi tempore eius molestias fuga minus explicabo?</p>   
            </footer>
        </div>
    </div>
    <!--Modal-->
    <div id="modalValidacion" class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Errores</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger" role="alert" id="msgModalErrorComentario">
                        <label class="form-label" id="textoModalErrorNombre"></label>
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">cerrar</button>
                </div>
            </div>
        </div>
    </div>
        
    <!--<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js " integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin=" anonymous "></script>!-->
    <script src="js/query-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
    <script src="js/main.js"></script>

    <script type="text/javascript">
            $(document).ready(function() {
                //apaga alert de etiquetas//
                $("#msgErrorNombre").hide();
                $("#msgErrorApellido").hide();
                $("#msgErrorDireccion").hide();
                $("#msgErrorCorreo").hide();
                $("#msgErrorComuna").hide();
                $("#msgErrorComentario").hide();
                $("#msgErrorEdad").hide();
            
                //Funcion que valida la Edad//
            $("#txtEdad").blur(function(event) {
                var edad = parseInt($("#txtEdad").val());
                if (edad < 0 || edad > 130) {     
                    $("#textoErrorEdad").text("Error edad fuera de Rango")
                    $("#msgErrorEdad").show();
                    $("#txtEdad").focus();
                    return false;
                } else {
                    $("#msgErrorEdad").hide();
                }
            });

            $("#txtNombre").blur(function(event) {
                var regExp = /^[a-zA-Z ]+$/;
                var nombre= regExp.test($("#txtNombre").val());           
                if (nombre==false) {
                    $("#textoErrorNombre").text("Campo Obligatorio, debe contener solo letras");
                    $("#msgErrorNombre").show();
                    $("#txtNombre").focus();
                    return false;  
                
                }else {
                    $("#msgErrorNombre").hide();
                    
                }
            });

            $("#txtApellido").blur(function(event) {
                var regExp = /^[a-zA-Z ]+$/;
                var apellido= regExp.test($("#txtApellido").val());           
                if (apellido==false) {
                    $("#textoModalErrorNombre").text("ERROR FATAL");
                    $("#textoErrorApellido").text("Campo Obligatorio, debe contener solo letras");
                    $("#msgErrorApellido").show();
                    $("#txtApellido").focus();
                    return  false;
                }else {
                    $("#msgErrorApellido").hide();

                }
            });
            $("#txtDireccion").blur(function(event) {
                var regExp = (/^[A-Za-z0-9\s]+$/g);
                var direccion= regExp.test($("#txtDireccion").val());           
                if (direccion==false) {
                    $("#textoErrorDireccion").text("Campo Obligatorio, debe contener letras y numeros");
                    $("#msgErrorDireccion").modal("show");
                    $("#txtDireccion").focus();
                    return  false;
                }else {
                    $("#msgErrorDireccion").hide();
                }
            });
            $("#txtCorreo").blur(function(event) {
                var reg = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                var correo= reg.test($("#txtCorreo").val());           
                if  (correo==false) {
                    $("#textoErrorCorreo").text("correo no valido, debe tener un signo   @ y un .com  (eje. pedrito@gmail.com)");
                    $("#msgErrorCorreo").show();
                    $("#txtCorreo").focus();
                            
                }else {
                    $("#msgErrorCorreo").hide();
                }

            });
            $("#txtComentario").blur(function(event) {
                var comentario = $("#txtNombre").val();            
                if (comentario.trim() <=0) {
                    $("#textoModalErrorComentario").text("Debes escribir algo en  Comentario");
                    $("#modalValidacion").modal("show");
                    $("#txtComentario").focus();
                    return false;
                    
                }else {
                    $("#msgErrorComentario").hide();
                    
                }
            });
             /////////////////////////////////////////////////////////////////////////
            //valida envio de formulario
            $("#btnEnviar").click(function() {
                var retorno = true;
                var nombre = $("#txtNombre").val();
                var apellido = $("#txtApellido").val();
                var direccion = $("#txtDireccion").val();
                var correo = $("#txtCorreo").val();
                var comentario = $("#txtComentario").val();
                var comuna = $("#Comuna").val();
                var edad = $("#txtEdad").val();   
                
                if (nombre.trim() <= 0) {
                    $("#msgErrorNombre").show();
                    $("#textoErrorNombre").text("El campo Nombre es Obligatorio");
                    $("#textoModalErrorNombre").text("Campos Obligatorios");
                    $("#modalValidacion").modal("show");
                    retorno = false;
                } else {
                    $("#msgErrorNombre").hide();
                }
                
                
                if (apellido.trim() <= 0){
                    $("#msgErrorApellido").show();
                    $("#textoErrorApellido").text("Campo Apellido es Obligatorio");
                    $("#textoModalErrorNombre").text("Campos Obligatorios");
                    $("#modalValidacion").modal("show"); 
                    retorno = false;
                } else {
                    $("#msgErrorApellido").hide();
                }
            
                //Funcion que valida la Dirección//
                if (direccion.trim() <= 0){
                    $("#msgErrorDireccion").show();
                    $("#textoErrorDireccion").text("El campo Dirección es Obligatorio");
                    $("#textoModalErrorNombre").text("Campos Obligatorios");
                    $("#modalValidacion").modal("show"); 
                    retorno = false;
                } else {
                    $("#msgErrorDireccion").hide();
                }
            
                //Funcion que valida el Correo//
                if (correo.trim() <= 0){
                    $("#msgErrorCorreo").show();
                    $("#textoErrorCorreo").text("El campo Correo es Obligatorio");
                    $("#textoModalErrorNombre").text("Campos Obligatorios");
                    $("#modalValidacion").modal("show");
                    retorno = false;
                }
                else {
                    $("#msgErrorCorreo").hide();
                }

                if (comentario.trim() <= 0) {
                    $("#msgErrorComentario").show();
                    $("#textoErrorComentario").text("El campo Comentario es Obligatorio");
                    $("#textoModalErrorNombre").text("Campos Obligatorios"); 
                    $("#modalValidacion").modal("show");
                    retorno = false;
                } else {
                    $("#msgErrorComentario").hide();
                }

                if (comuna.trim() === "Seleccione su Comuna"){
                    $("#msgErrorComuna").show();
                    $("#textoErrorComuna").text("El campo Comuna es Obligatorio");
                    $("#textoModalErrorNombre").text("Campos Obligatorios");
                    $("#modalValidacion").modal("show"); 
                    retorno = false;
                } else {
                    $("#msgErrorComuna").hide();
                }

                if (edad.trim() <= 0) {
                    $("#msgErrorEdad").show();
                    $("#textoErrorEdad").text("El campo Edad es Obligatorio");
                    $("#modalValidacion").modal("show");
                    $("#textoModalErrorNombre").text("Campos Obligatorios");
                    retorno = false;
                } else {
                    $("#msgErrorEdad").hide();
                }

                return retorno;

            });

        }); 
    </script>

</body>
</html>